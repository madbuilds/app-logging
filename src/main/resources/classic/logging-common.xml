<?xml version="1.0" encoding="UTF-8"?>
<included>
    <springProperty name="ROOT_LOGGING_LEVEL" source="app.logging.level.root" defaultValue="WARN"/>
    <springProperty name="APP_LOGGING_LEVEL" source="app.logging.level.app" defaultValue="INFO"/>

    <root level="${ROOT_LOGGING_LEVEL}">
        <appender-ref ref="ASYNC_CONSOLE_APPENDER" />
    </root>
    <if condition='property("IS_LOKI_APPENDER_ENABLED").equals("true")'>
        <then>
            <root>
                <appender-ref ref="LOKI_APPENDER" />
            </root>
        </then>
    </if>
    <if condition='property("IS_FILE_APPENDER_ENABLED").equals("true")'>
        <then>
            <root>
                <appender-ref ref="ASYNC_FILE_APPENDER" />
            </root>
        </then>
    </if>

    <logger name="one.mad" level="${APP_LOGGING_LEVEL}" additivity="false">
        <appender-ref ref="ASYNC_CONSOLE_APPENDER" />
    </logger>
    <if condition='property("IS_LOKI_APPENDER_ENABLED").equals("true")'>
        <then>
            <root>
                <appender-ref ref="LOKI_APPENDER" />
            </root>
        </then>
    </if>
    <if condition='property("IS_FILE_APPENDER_ENABLED").equals("true")'>
        <then>
            <logger name="one.mad">
                <appender-ref ref="ASYNC_FILE_APPENDER" />
            </logger>
        </then>
    </if>
</included>